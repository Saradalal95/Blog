(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{225:function(e,t,n){"use strict";n.r(t);var c=n(9),s=n.n(c),a=n(16),r=n(17),i=n(0),o=n(21),l=n.n(o),d=n(12),j=n(7),u=n(229),b=n(227),h=n(1),m=function(){var e=Object(i.useState)(!1),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(i.useState)(!1),a=Object(r.a)(s,2),o=a[0],l=a[1],j=function(){return c(!1)},m=function(){return l(!1)};return Object(h.jsxs)("div",{className:"header-main-container",children:[Object(h.jsxs)("ul",{className:"header-container",children:[Object(h.jsx)("li",{className:"list-item",children:Object(h.jsx)(d.b,{to:"/",className:"header-item",children:"Home /"})}),Object(h.jsx)("li",{className:"list-item",children:Object(h.jsx)(d.b,{to:"/mysite",className:"header-item",children:"MySite /"})}),Object(h.jsx)("li",{className:"list-item",children:Object(h.jsx)(d.b,{to:"/addpost",className:"header-item",children:"NewPost /"})})]}),Object(h.jsxs)("div",{className:"button-container",children:[Object(h.jsx)(u.a,{className:"signInBtn",onClick:function(){return c(!0)},children:"sign in"}),Object(h.jsx)(u.a,{className:"signInBtn",onClick:function(){return l(!0)},children:"sign up"})]}),Object(h.jsxs)(b.a,{backdrop:"static",keyboard:!1,show:n,onHide:j,children:[Object(h.jsx)(b.a.Header,{closeButton:!0,children:Object(h.jsx)(b.a.Title,{children:"Sign In"})}),Object(h.jsx)(b.a.Body,{children:"Woohoo, you're reading this text in a modal!"}),Object(h.jsxs)(b.a.Footer,{children:[Object(h.jsx)(u.a,{variant:"secondary",onClick:j,children:"Close"}),Object(h.jsx)(u.a,{variant:"primary",onClick:j,children:"Save Changes"})]})]}),Object(h.jsxs)(b.a,{backdrop:"static",keyboard:!1,show:o,onHide:m,children:[Object(h.jsx)(b.a.Header,{closeButton:!0,children:Object(h.jsx)(b.a.Title,{children:"Sign Up"})}),Object(h.jsx)(b.a.Body,{children:"Woohoo, you're reading this text in a modal!"}),Object(h.jsxs)(b.a.Footer,{children:[Object(h.jsx)(u.a,{variant:"secondary",onClick:m,children:"Close"}),Object(h.jsx)(u.a,{variant:"primary",onClick:m,children:"Save Changes"})]})]})]})},O=(n(101),n(41)),x=(n(59),n(26).default),p=function(e){var t=function(){var t=Object(a.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{x.delete("http://localhost:3001/posts/".concat(n),{data:{id:n}}).then((function(t){return e.sendGetRequest()}))}catch(c){console.log(c)}console.log(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"post-collection-container",children:[Object(h.jsx)("div",{className:"background-container",children:Object(h.jsx)("img",{src:"../img/pencils-762555_1920.jpg"})}),Object(h.jsx)("h2",{className:"posts-header",children:"posts Collection"}),e.show.length<1?Object(h.jsx)("p",{style:{textAlign:"center",fontSize:"1.3rem"},children:"There is no post yet"}):e.show.map((function(e,n){return Object(h.jsxs)("ul",{className:"posts-list",children:[Object(h.jsx)("span",{className:"close-x",onClick:function(){t(e._id)},children:"x"}),Object(h.jsx)(d.b,{className:"post",to:"/post/".concat(e._id),children:Object(h.jsx)("li",{className:"post-title",children:e.title})})]},n)}))]})},f=n(228),v=n(40),g=n.n(v),N=n(26).default,y=function e(t){var n=Object(i.useState)(""),c=Object(r.a)(n,2),o=c[0],l=c[1],d=Object(i.useState)(""),b=Object(r.a)(d,2),m=b[0],O=b[1],x=Object(j.e)(),p=Object(i.useRef)(),v=Object(i.useRef)(),y=function(){var e=Object(a.a)(s.a.mark((function e(n,c){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.post("http://localhost:3001/posts/",{title:n,content:c});case 3:return e.sent,e.next=6,t.sendGetRequest({body:o});case 6:e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(a.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y(p.current.value,v.current.value);case 3:l(""),x.push("/mysite"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),O(e.t0.response.data);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"add-post-container",children:[m&&Object(h.jsxs)("div",{className:"errors",children:[Object(h.jsx)("h1",{children:"There are some errors below:"})," ",Object(h.jsx)("br",{}),Object(h.jsx)("ul",{children:m.errors.map((function(e){return Object.entries(e)})).map((function(e){return Object(h.jsxs)("li",{children:[e[0][0]," - ",e[0][1]]})}))})]}),Object(h.jsx)("div",{className:"background-container",children:Object(h.jsx)("img",{src:"../img/image.jpg "})}),Object(h.jsxs)(f.a,{className:"m-5",children:[Object(h.jsxs)(f.a.Group,{controlId:"formBasicEmail",children:[Object(h.jsx)(f.a.Label,{children:"Post title"}),Object(h.jsx)(f.a.Control,{ref:p,placeholder:"add the title",className:"mt-2 mb-5 title"})]}),Object(h.jsx)(f.a.Group,{children:Object(h.jsx)("div",{className:"quill",children:Object(h.jsx)(g.a,{ref:v,placeholder:"write new post ..",modules:e.modules,formats:e.formats,onChange:function(e){v.current.value=e}})})}),Object(h.jsx)(u.a,{className:"mt-3 add-button",onClick:function(){return k()},variant:"primary",children:"Add"})]})]})};y.modules={toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],["clean"]]},y.formats=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video"];var k=y,w=(n(224),n(230)),C=n(26).default,S=function(e){var t=Object(j.f)().id,n=e.showPost.find((function(e){return t===e._id})),c=function(){var t=Object(a.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{C.delete("http://localhost:3001/posts/".concat(n),{data:{id:n}}).then((function(t){return e.sendGetRequest()}))}catch(c){console.log(c)}console.log(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"post-main-container ",children:[Object(h.jsx)("div",{className:"background-container",children:Object(h.jsx)("img",{src:"../img/pencils-762555_1920.jpg"})}),n?Object(h.jsxs)(w.a,{style:{width:"35rem"},className:"p-4",children:[Object(h.jsxs)(w.a.Body,{className:"m-auto",children:[Object(h.jsx)(w.a.Title,{style:{fontSize:"1.5rem"},children:n.title}),Object(h.jsx)(w.a.Text,{className:"post-content",dangerouslySetInnerHTML:{__html:n.content}})]}),Object(h.jsxs)("span",{className:"button-container",children:[Object(h.jsx)(u.a,{className:"button",href:"/mysite",onClick:function(){c(n._id)},children:"delete"}),Object(h.jsx)(u.a,{className:"button",href:"/editpost/".concat(n._id),children:"Edit"})]})]}):null]})},q=n(90),B=n(26).default,G=function e(t){var n=Object(j.f)().id,c=Object(i.useState)(),o=Object(r.a)(c,2),l=o[0],d=o[1],b=Object(i.useState)(),m=Object(r.a)(b,2),O=m[0],x=m[1];Object(i.useEffect)((function(){var e=t.edit.find((function(e){return n===e._id}));e&&n&&(d(e.title),x(e.content))}),[n,t.edit]);var p=function(e){x(e)},v=function(){var e=Object(a.a)(s.a.mark((function e(c,a){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={title:c,content:a};try{B.put("http://localhost:3001/posts/".concat(n),r).then((function(e){t.sendGetRequest(),window.location.replace("/mysite")}))}catch(s){console.log(s)}console.log(r);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"background-container",children:Object(h.jsx)("img",{src:"../img/image.jpg "})}),Object(h.jsxs)(f.a,{className:"m-5",children:[Object(h.jsxs)(f.a.Group,{controlId:"formBasicEmail",children:[Object(h.jsx)(f.a.Label,{children:"Post title"}),Object(h.jsx)(f.a.Control,{value:l,onChange:function(e){return d(e.target.value)},placeholder:"add the title",className:"mt-2 mb-5 title"})]}),Object(h.jsx)(f.a.Group,{children:Object(h.jsx)("div",{className:"quill",children:Object(h.jsx)(g.a,Object(q.a)({value:function(e){if(e)return e;var c=t.edit.find((function(e){return e._id===n}));return c?c.content:void 0}(O),onChange:p,placeholder:"write new post ..",modules:e.modules,formats:e.formats},"onChange",p))})}),Object(h.jsx)(u.a,{onClick:function(){v(l,O)},children:"Save"})]})]})};G.modules={toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],["clean"]]},G.formats=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video"];var _=G,R=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("h1",{className:"welcome-header",children:["Welcome to My Blog",Object(h.jsx)("img",{src:"../img/logo.png",alt:"logo",className:"logo"})]}),Object(h.jsxs)("form",{style:{textAlign:"center"},children:[Object(h.jsx)("p",{children:"Enter your name : "}),Object(h.jsx)("input",{type:"text",onChange:function(e){return localStorage.setItem("user",e.target.value)}})]}),Object(h.jsxs)("div",{className:"home-container",children:[Object(h.jsxs)("div",{className:"illustrations-container",children:[Object(h.jsx)("img",{src:"../img/02.png"}),Object(h.jsx)("div",{class:"overlay",children:Object(h.jsx)("div",{class:"text",children:Object(h.jsx)(d.b,{to:"/addpost",className:"overlay-text",children:"Share your thoughts"})})})]}),Object(h.jsxs)("div",{className:"illustrations-container",children:[Object(h.jsx)("img",{src:"../img/2.png"}),Object(h.jsx)("div",{class:"overlay",children:Object(h.jsx)("div",{class:"text",children:Object(h.jsx)(d.b,{to:"/mysite",className:"overlay-text",children:"browse all posts"})})})]})]}),Object(h.jsxs)("h6",{className:"footer",children:["Welcome to My Blog ",localStorage.getItem("user")]})]})},I=n(26).default,E=function(){var e=Object(i.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1];console.log(n),Object(i.useEffect)((function(){o()}),[]);var o=function(){var e=Object(a.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.get("http://localhost:3001/posts/").then((function(e){return c(e.data)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)(d.a,{children:[Object(h.jsx)(m,{}),Object(h.jsxs)(O.a,{children:[Object(h.jsx)(j.a,{exact:!0,path:"/",children:Object(h.jsx)(R,{})}),Object(h.jsx)(j.a,{path:"/mysite",children:Object(h.jsx)(p,{show:n,sendGetRequest:o})}),Object(h.jsx)(j.a,{path:"/addpost",children:Object(h.jsx)(k,{sendGetRequest:o})}),Object(h.jsx)(j.a,{path:"/post/:id",children:Object(h.jsx)(S,{showPost:n,sendGetRequest:o})}),Object(h.jsx)(j.a,{path:"/editpost/:id",children:n&&Object(h.jsx)(_,{edit:n,sendGetRequest:o})})]})]})};l.a.render(Object(h.jsx)(E,{}),document.getElementById("root"))},59:function(e,t,n){}},[[225,1,2]]]);
//# sourceMappingURL=main.03e02a21.chunk.js.map