{"ast":null,"code":"import _regeneratorRuntime from\"/home/dci/Desktop/Blog/frontend/blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/dci/Desktop/Blog/frontend/blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from\"react\";import{Button,Card}from\"react-bootstrap\";import{Link,useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var axios=require(\"axios\").default;var Post=function Post(props){var _useParams=useParams(),id=_useParams.id;var foundPost=props.showPost.find(function(post){return id===post._id;});var deletePostOnClick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:try{axios.delete(\"http://localhost:3001/posts/\".concat(id),{data:{id:id}}).then(function(response){return props.sendGetRequest();});}catch(error){console.log(error);}console.log(id);case 2:case\"end\":return _context.stop();}}},_callee);}));return function deletePostOnClick(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"post-main-container \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"background-container\",children:/*#__PURE__*/_jsx(\"img\",{src:\"../img/pencils-762555_1920.jpg\"})}),foundPost?/*#__PURE__*/_jsxs(Card,{style:{width:\"35rem\"},className:\"p-4\",children:[/*#__PURE__*/_jsxs(Card.Body,{className:\"m-auto\",children:[/*#__PURE__*/_jsx(Card.Title,{style:{fontSize:\"1.5rem\"},children:foundPost.title}),/*#__PURE__*/_jsx(Card.Text,{className:\"post-content\",dangerouslySetInnerHTML:{__html:foundPost.content}})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"button-container\",children:[/*#__PURE__*/_jsx(Button,{className:\"button\",href:\"/mysite\",onClick:function onClick(){deletePostOnClick(foundPost._id);},children:\"delete\"}),/*#__PURE__*/_jsx(Button,{className:\"button\",href:\"/editpost/\".concat(foundPost._id),children:\"Edit\"})]})]}):null]});};export default Post;","map":{"version":3,"sources":["/home/dci/Desktop/Blog/frontend/blog/src/components/post.js"],"names":["React","Button","Card","Link","useParams","axios","require","default","Post","props","id","foundPost","showPost","find","post","_id","deletePostOnClick","delete","data","then","response","sendGetRequest","error","console","log","width","fontSize","title","__html","content"],"mappings":"mTAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,MAAT,CAAiBC,IAAjB,KAA6B,iBAA7B,CACA,OAASC,IAAT,CAAeC,SAAf,KAAgC,kBAAhC,C,wFACA,GAAMC,CAAAA,KAAK,CAAGC,OAAO,CAAC,OAAD,CAAP,CAAiBC,OAA/B,CACA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAACC,KAAD,CAAW,CACtB,eAAeL,SAAS,EAAxB,CAAQM,EAAR,YAAQA,EAAR,CACA,GAAMC,CAAAA,SAAS,CAAGF,KAAK,CAACG,QAAN,CAAeC,IAAf,CAAoB,SAACC,IAAD,QAAUJ,CAAAA,EAAE,GAAKI,IAAI,CAACC,GAAtB,EAApB,CAAlB,CACA,GAAMC,CAAAA,iBAAiB,0FAAG,iBAAON,EAAP,kHACxB,GAAI,CACFL,KAAK,CACFY,MADH,uCACyCP,EADzC,EAC+C,CAC3CQ,IAAI,CAAE,CAAER,EAAE,CAAEA,EAAN,CADqC,CAD/C,EAIGS,IAJH,CAIQ,SAACC,QAAD,QAAcX,CAAAA,KAAK,CAACY,cAAN,EAAd,EAJR,EAKD,CAAC,MAAOC,KAAP,CAAc,CACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CAEDC,OAAO,CAACC,GAAR,CAAYd,EAAZ,EAXwB,sDAAH,kBAAjBM,CAAAA,iBAAiB,4CAAvB,CAcA,mBACE,aAAK,SAAS,CAAC,sBAAf,wBACE,YAAK,SAAS,CAAC,sBAAf,uBACE,YAAK,GAAG,CAAC,gCAAT,EADF,EADF,CAIGL,SAAS,cACR,MAAC,IAAD,EAAM,KAAK,CAAE,CAAEc,KAAK,CAAE,OAAT,CAAb,CAAiC,SAAS,CAAC,KAA3C,wBACE,MAAC,IAAD,CAAM,IAAN,EAAW,SAAS,CAAC,QAArB,wBACE,KAAC,IAAD,CAAM,KAAN,EAAY,KAAK,CAAE,CAAEC,QAAQ,CAAE,QAAZ,CAAnB,UACGf,SAAS,CAACgB,KADb,EADF,cAIE,KAAC,IAAD,CAAM,IAAN,EACA,SAAS,CAAC,cADV,CAEE,uBAAuB,CAAE,CAAEC,MAAM,CAAEjB,SAAS,CAACkB,OAApB,CAF3B,EAJF,GADF,cAUE,cAAM,SAAS,CAAC,kBAAhB,wBACE,KAAC,MAAD,EACE,SAAS,CAAC,QADZ,CAEE,IAAI,CAAC,SAFP,CAGE,OAAO,CAAE,kBAAM,CACbb,iBAAiB,CAACL,SAAS,CAACI,GAAX,CAAjB,CACD,CALH,oBADF,cAUE,KAAC,MAAD,EAAQ,SAAS,CAAC,QAAlB,CAA2B,IAAI,qBAAeJ,SAAS,CAACI,GAAzB,CAA/B,kBAVF,GAVF,GADQ,CA0BN,IA9BN,GADF,CAkCD,CAnDD,CAqDA,cAAeP,CAAAA,IAAf","sourcesContent":["import React from \"react\";\nimport { Button, Card } from \"react-bootstrap\";\nimport { Link, useParams } from \"react-router-dom\";\nconst axios = require(\"axios\").default;\nconst Post = (props) => {\n  const { id } = useParams();\n  const foundPost = props.showPost.find((post) => id === post._id);\n  const deletePostOnClick = async (id) => {\n    try {\n      axios\n        .delete(`http://localhost:3001/posts/${id}`, {\n          data: { id: id },\n        })\n        .then((response) => props.sendGetRequest());\n    } catch (error) {\n      console.log(error);\n    }\n\n    console.log(id);\n  };\n\n  return (\n    <div className=\"post-main-container \">\n      <div className=\"background-container\">\n        <img src=\"../img/pencils-762555_1920.jpg\" />\n      </div>\n      {foundPost ? (\n        <Card style={{ width: \"35rem\" }} className=\"p-4\">\n          <Card.Body className=\"m-auto\">\n            <Card.Title style={{ fontSize: \"1.5rem\" }}>\n              {foundPost.title}\n            </Card.Title>\n            <Card.Text\n            className=\"post-content\"\n              dangerouslySetInnerHTML={{ __html: foundPost.content }}\n            ></Card.Text>\n          </Card.Body>\n          <span className=\"button-container\">\n            <Button\n              className=\"button\"\n              href=\"/mysite\"\n              onClick={() => {\n                deletePostOnClick(foundPost._id);\n              }}\n            >\n              delete\n            </Button>\n            <Button className=\"button\" href={`/editpost/${foundPost._id}`}>\n              Edit\n            </Button>\n          </span>\n        </Card>\n      ) : null}\n    </div>\n  );\n};\n\nexport default Post;\n"]},"metadata":{},"sourceType":"module"}